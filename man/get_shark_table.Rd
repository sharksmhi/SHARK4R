% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/shark_api_functions.R
\name{get_shark_table}
\alias{get_shark_table}
\title{Retrieve and Format SHARK Data from SMHI API}
\usage{
get_shark_table(
  tableView = "sharkweb_overview",
  limit = 0,
  headerLang = "internal_key",
  fromYear = 2019,
  toYear = 2020,
  months = c(),
  dataTypes = c(),
  parameters = c(),
  orderers = c(),
  qualityFlags = c(),
  deliverers = c(),
  projects = c(),
  datasets = c(),
  minSamplingDepth = "",
  maxSamplingDepth = "",
  checkStatus = "",
  redListedCategory = c(),
  taxonName = c(),
  stationName = c(),
  vattenDistrikt = c(),
  seaBasins = c(),
  counties = c(),
  municipalities = c(),
  waterCategories = c(),
  typOmraden = c(),
  helcomOspar = c(),
  seaAreas = c(),
  offset = 0,
  prod = TRUE
)
}
\arguments{
\item{tableView}{Character. Specifies the view of the table to retrieve. Options include:
\describe{
\item{"sharkweb_overview"}{}
\item{"sharkweb_all"}{}
\item{"sharkdata_bacterioplankton"}{}
\item{"sharkdata_chlorophyll"}{}
\item{"sharkdata_epibenthos"}{}
\item{"sharkdata_greyseal"}{}
\item{"sharkdata_harbourporpoise"}{}
\item{"sharkdata_harbourseal"}{}
\item{"sharkdata_jellyfish"}{}
\item{"sharkdata_physicalchemical_columns"}{}
\item{"sharkdata_phytoplankton"}{}
\item{"sharkdata_picoplankton"}{}
\item{"sharkdata_planktonbarcoding"}{}
\item{"sharkdata_primaryproduction"}{}
\item{"sharkdata_ringedseal"}{}
\item{"sharkdata_sealpathology"}{}
\item{"sharkdata_sedimentation"}{}
\item{"sharkdata_zoobenthos"}{}
\item{"sharkdata_zooplankton"}{}
\item{"report_sum_year_param"}{}
\item{"report_sum_year_param_taxon"}{}
\item{"report_sampling_per_station"}{}
\item{"report_obs_taxon"}{}
\item{"report_stations"}{}
\item{"report_taxon"}{}
}
Default is \code{"sharkweb_overview"}.}

\item{limit}{Integer. Maximum number of records to retrieve per request. Default is \code{0} (all records).}

\item{headerLang}{Character. Language option for column headers. Possible values:
\itemize{
\item \code{"sv"}: Swedish
\item \code{"en"}: English
\item \code{"short"}: Shortened version
\item \code{"internal_key"}: Internal key (default)
}}

\item{fromYear}{Integer. The starting year for the data to retrieve. Default is \code{2019}.}

\item{toYear}{Integer. The ending year for the data to retrieve. Default is \code{2020}.}

\item{months}{Integer vector. The months to retrieve data for, e.g., \code{c(4, 5, 6)} for April to June.}

\item{dataTypes}{Character vector. Specifies data types to filter, such as \code{"Chlorophyll"} or \code{"Epibenthos"}.}

\item{parameters}{Character vector. Optional vector of parameters to filter results, such as \code{"Chlorophyll-a"}.}

\item{orderers}{Character vector. Optional vector of orderers to filter data by specific individuals or organizations.}

\item{qualityFlags}{Character vector. Optional vector of quality flags to filter data.}

\item{deliverers}{Character vector. Optional vector of deliverers to filter data by data providers.}

\item{projects}{Character vector. Optional vector of projects to filter data by specific research or monitoring projects.}

\item{datasets}{Character vector. Optional vector of datasets to filter data by specific dataset names.}

\item{minSamplingDepth}{Numeric. Optional minimum depth (in meters) for sampling data to filter results.}

\item{maxSamplingDepth}{Numeric. Optional maximum depth (in meters) for sampling data to filter results.}

\item{checkStatus}{Character string. Optional status check to filter results.}

\item{redListedCategory}{Character vector. Optional vector of red-listed taxa for conservation filtering.}

\item{taxonName}{Character vector. Optional vector of taxa names for filtering specific species or taxa.}

\item{stationName}{Character vector. Optional vector of station names to retrieve data from specific stations.}

\item{vattenDistrikt}{Character vector. Optional vector of water district names to filter data by Swedish water districts.}

\item{seaBasins}{Character vector. Optional vector of sea basin names to filter data by different sea areas.}

\item{counties}{Character vector. Optional vector of counties to filter data within specific administrative regions in Sweden.}

\item{municipalities}{Character vector. Optional vector of municipalities to filter data within specific local administrative regions.}

\item{waterCategories}{Character vector. Optional vector of water categories to filter from.}

\item{typOmraden}{Character vector. Optional vector of type areas to filter data by specific areas.}

\item{helcomOspar}{Character vector. Optional vector of HELCOM or OSPAR areas for regional filtering.}

\item{seaAreas}{Character vector. Optional vector of sea area codes for filtering by specific sea areas}

\item{offset}{Integer. The starting point for data retrieval, useful for pagination. Default is \code{0}.}

\item{prod}{Logical. Query against PROD or TEST (SMHI internal) server. Default is TRUE (PROD).}
}
\value{
A \code{data.frame} containing the retrieved data, with column names based on the API's \code{headers}.
Columns are filled with \code{NA} when rows have differing lengths.
}
\description{
The \code{get_shark_table} function retrieves data from the SHARK database hosted by SMHI, with options
to filter based on year range, months, and data types. It sends a POST request to
the SHARK API and returns the results as a structured \code{data.frame}.
To view available filter options, see \code{\link{get_shark_options}}.
}
\details{
This function constructs a JSON body with specified parameters and sends a POST request
to the SHARK API. The API returns data in JSON format, which is then parsed into a \code{data.frame}.
If rows have differing lengths, \code{rbind.fill} fills missing columns with \code{NA}.
}
\examples{
\dontrun{
  # Retrieve chlorophyll data for April to June from 2019 to 2020
  shark_data <- get_shark_table(fromYear = 2019, toYear = 2020,
                                months = c(4, 5, 6), dataTypes = c("Chlorophyll"))
  View(shark_data)
}

}
\seealso{
\code{\link{get_shark_options}}
}
