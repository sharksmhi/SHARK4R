% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/shark_api_functions.R
\name{get_shark_statistics}
\alias{get_shark_statistics}
\title{Summarize numeric SHARK parameters with ranges and outlier thresholds}
\usage{
get_shark_statistics(
  fromYear = NULL,
  toYear = NULL,
  datatype = NULL,
  min_obs = 3,
  max_non_numeric_frac = 0.05,
  verbose = TRUE,
  cache_result = FALSE
)
}
\arguments{
\item{fromYear}{Start year for download (numeric).
Defaults to 5 years before the last complete year.}

\item{toYear}{End year for download (numeric).
Defaults to the last complete year.}

\item{datatype}{Optional, one or more datatypes to filter on
(e.g. \code{"Bacterioplankton"}). If \code{NULL}, all datatypes are included.}

\item{min_obs}{Minimum number of numeric observations required
for a parameter to be included (default: 3).}

\item{max_non_numeric_frac}{Maximum allowed fraction of non-numeric values
for a parameter to be kept (default: 0.05).}

\item{verbose}{Logical, whether to show download progress messages. Default is \code{TRUE}.}

\item{cache_result}{Logical, whether to save the result in a persistent cache
(\code{statistics.rds}) for use by other functions. Default is \code{FALSE}.}
}
\value{
A tibble with one row per parameter and the following columns:
\describe{
\item{parameter}{Parameter name (character).}
\item{min, Q1, median, Q3, max}{Observed quantiles.}
\item{P05, P95}{5th and 95th percentiles.}
\item{IQR}{Interquartile range.}
\item{mean}{Arithmetic mean of numeric values.}
\item{sd}{Standard deviation of numeric values.}
\item{var}{Variance of numeric values.}
\item{cv}{Coefficient of variation (sd / mean).}
\item{mad}{Median absolute deviation.}
\item{mild_lower, mild_upper}{Lower/upper bounds for mild outliers (1.5 × IQR).}
\item{extreme_lower, extreme_upper}{Lower/upper bounds for extreme outliers (3 × IQR).}
\item{n}{Number of numeric observations used.}
}
}
\description{
Downloads SHARK data for a given time period, filters to numeric parameters,
and calculates descriptive statistics and Tukey outlier thresholds.
}
\details{
By default, the function uses the \emph{previous five complete years}.
For example, if called in 2025 it will use data from 2020–2024.
}
\examples{
\dontrun{
  # Uses previous 5 years automatically
  res <- get_shark_statistics()

  # Explicitly set years and datatype
  res <- get_shark_statistics(2018, 2022, datatype = "Chlorophyll")

  # Save result in persistent cache
  res <- get_shark_statistics(cache_result = TRUE)

  # Print result
  print(res)
}
}
