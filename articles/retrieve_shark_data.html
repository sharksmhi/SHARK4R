<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Retrieve Data From SHARK • SHARK4R</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Retrieve Data From SHARK">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SHARK4R</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials">
<li><a class="dropdown-item" href="../articles/retrieve_shark_data.html">Retrieve SHARK Data</a></li>
    <li><a class="dropdown-item" href="../articles/retrieve_dyntaxa_data.html">Retrieve Dyntaxa Data</a></li>
    <li><a class="dropdown-item" href="../articles/retrieve_worms_data.html">Retrieve WoRMS Data</a></li>
    <li><a class="dropdown-item" href="../articles/retrieve_algaebase_data.html">Retrieve AlgaeBase Data</a></li>
    <li><a class="dropdown-item" href="../articles/retrieve_hab_data.html">Retrieve HAB Data</a></li>
    <li><a class="dropdown-item" href="../articles/retrieve_nordic_microalgae_data.html">Retrieve Nordic Microalgae Data</a></li>
    <li><a class="dropdown-item" href="../articles/quality_control.html">QC of SHARK Data</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sharksmhi/SHARK4R/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Retrieve Data From SHARK</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/sharksmhi/SHARK4R/blob/master/vignettes/retrieve_shark_data.Rmd" class="external-link"><code>vignettes/retrieve_shark_data.Rmd</code></a></small>
      <div class="d-none name"><code>retrieve_shark_data.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="shark">SHARK<a class="anchor" aria-label="anchor" href="#shark"></a>
</h2>
<p>SHARK is the Swedish Ocean Archive’s platform for data downloads. It
stores biological, physical, and chemical marine environmental
monitoring data. On behalf of the Swedish Agency for Marine and Water
Management, SMHI serves as the national data host for oceanography and
marine biology and is designated by UNESCO as a National Oceanographic
Data Center (NODC). The data can be accessed via a <a href="https://shark.smhi.se/" class="external-link">web interface</a> or through the <a href="https://shark.smhi.se/api/docs/" class="external-link">API</a>, as demonstrated in this
tutorial using <code>SHARK4R</code>.</p>
</div>
<div class="section level2">
<h2 id="getting-started">Getting Started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<div class="section level4">
<h4 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h4>
<p>You can install the latest version of the package from GitHub using
the <code>remotes</code> package:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"sharksmhi/SHARK4R"</span>,</span>
<span>                        ref <span class="op">=</span> <span class="fu">remotes</span><span class="fu">::</span><span class="fu">github_release</span><span class="op">(</span><span class="op">)</span>,</span>
<span>                        dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Load the <code>SHARK4R</code> library:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sharksmhi.github.io/SHARK4R/">SHARK4R</a></span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="retrieve-data-table">Retrieve Data Table<a class="anchor" aria-label="anchor" href="#retrieve-data-table"></a>
</h2>
<p>Data can be retrieved with the same filtering options available in <a href="https://shark.smhi.se/" class="external-link">SHARK</a>. To see the available filtering
options, please refer to <code><a href="../reference/get_shark_options.html">get_shark_options()</a></code> and the
information below.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Retrieve chlorophyll data for April to June from 2019 to 2020</span></span>
<span><span class="va">shark_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_shark_data.html">get_shark_data</a></span><span class="op">(</span>fromYear <span class="op">=</span> <span class="fl">2019</span>, </span>
<span>                             toYear <span class="op">=</span> <span class="fl">2020</span>,</span>
<span>                             months <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span><span class="op">)</span>, </span>
<span>                             dataTypes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Chlorophyll"</span><span class="op">)</span>,</span>
<span>                             verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Print data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">shark_data</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 179 × 72</span></span></span>
<span><span class="co">##    delivery_datatype check_status_sv data_checked_by_sv visit_year visit_month</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> Chlorophyll       Klar            Leverantör               <span style="text-decoration: underline;">2</span>020           6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> Chlorophyll       Klar            Leverantör               <span style="text-decoration: underline;">2</span>020           6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> Chlorophyll       Klar            Leverantör               <span style="text-decoration: underline;">2</span>020           6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> Chlorophyll       Klar            Leverantör               <span style="text-decoration: underline;">2</span>020           6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> Chlorophyll       Klar            Leverantör               <span style="text-decoration: underline;">2</span>020           6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> Chlorophyll       Klar            Leverantör               <span style="text-decoration: underline;">2</span>020           6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> Chlorophyll       Klar            Leverantör               <span style="text-decoration: underline;">2</span>020           6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> Chlorophyll       Klar            Leverantör               <span style="text-decoration: underline;">2</span>020           6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> Chlorophyll       Klar            Leverantör               <span style="text-decoration: underline;">2</span>020           6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> Chlorophyll       Klar            Leverantör               <span style="text-decoration: underline;">2</span>020           6</span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 169 more rows</span></span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 67 more variables: station_name &lt;chr&gt;, reported_station_name &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   sample_location_id &lt;dbl&gt;, station_id &lt;dbl&gt;, sample_project_name_sv &lt;lgl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   sample_orderer_name_sv &lt;lgl&gt;, visit_id &lt;dbl&gt;, visit_date &lt;lgl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   shark_sample_id_md5 &lt;chr&gt;, sample_date &lt;date&gt;, sample_time &lt;time&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   sample_enddate &lt;lgl&gt;, sample_endtime &lt;lgl&gt;, sample_latitude_dm &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   sample_longitude_dm &lt;chr&gt;, sample_latitude_dd &lt;dbl&gt;, …</span></span></span></code></pre>
</div>
<div class="section level2">
<h2 id="get-shark-api-options">Get SHARK API Options<a class="anchor" aria-label="anchor" href="#get-shark-api-options"></a>
</h2>
<p>Filtering options, including data types, dataset names, stations,
taxa, and more, can be retrieved using the
<code><a href="../reference/get_shark_options.html">get_shark_options()</a></code> function.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Retrieve available search options</span></span>
<span><span class="va">shark_options</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_shark_options.html">get_shark_options</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List the names of the available options</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">shark_options</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] "datasets"              "dataTypes"             "parameters"           </span></span>
<span><span class="co">##  [4] "minYear"               "maxYear"               "months"               </span></span>
<span><span class="co">##  [7] "checkStatuses"         "qualityFlags"          "deliverers"           </span></span>
<span><span class="co">## [10] "orderers"              "projects"              "redListedCategories"  </span></span>
<span><span class="co">## [13] "taxa"                  "stations"              "seaAreas"             </span></span>
<span><span class="co">## [16] "vattenDistrikt"        "typOmraden"            "seaBasins"            </span></span>
<span><span class="co">## [19] "counties"              "municipalities"        "waterCategories"      </span></span>
<span><span class="co">## [22] "helcomOspar"           "parametersForDatatype" "headerlangers"        </span></span>
<span><span class="co">## [25] "minYearPerDatatype"</span></span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># View available datatypes</span></span>
<span><span class="va">dataTypes</span> <span class="op">&lt;-</span> <span class="va">shark_options</span><span class="op">$</span><span class="va">dataTypes</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">dataTypes</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] "Bacterioplankton"      "Chlorophyll"           "Epibenthos"           </span></span>
<span><span class="co">##  [4] "Grey seal"             "Harbour Porpoise"      "Harbour seal"         </span></span>
<span><span class="co">##  [7] "Physical and Chemical" "Phytoplankton"         "Picoplankton"         </span></span>
<span><span class="co">## [10] "Plankton Barcoding"    "Plankton Imaging"      "Primary production"   </span></span>
<span><span class="co">## [13] "Profile"               "Ringed seal"           "Seal pathology"       </span></span>
<span><span class="co">## [16] "Sedimentation"         "Zoobenthos"            "Zooplankton"</span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># View available dataset names</span></span>
<span><span class="va">datasetNames</span> <span class="op">&lt;-</span> <span class="va">shark_options</span><span class="op">$</span><span class="va">datasets</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">datasetNames</span><span class="op">)</span> <span class="co"># Print first few dataset names</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "SHARK_Bacterioplankton_ABUND_2023_UMSC_version_2024-06-04.zip"        </span></span>
<span><span class="co">## [2] "SHARK_Bacterioplankton_ABU_2006_UMSC_Bactabund_version_2024-09-27.zip"</span></span>
<span><span class="co">## [3] "SHARK_Bacterioplankton_ABU_2007_UMSC_Bactabund_version_2024-09-27.zip"</span></span>
<span><span class="co">## [4] "SHARK_Bacterioplankton_ABU_2008_UMSC_Bactabund_version_2024-09-27.zip"</span></span>
<span><span class="co">## [5] "SHARK_Bacterioplankton_ABU_2009_UMSC_Bactabund_version_2024-09-27.zip"</span></span>
<span><span class="co">## [6] "SHARK_Bacterioplankton_ABU_2010_UMSC_Bactabund_version_2024-09-27.zip"</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="retrieve-datasets-zip-archives">Retrieve Datasets (Zip-archives)<a class="anchor" aria-label="anchor" href="#retrieve-datasets-zip-archives"></a>
</h2>
<p>In addition to accessing data in tabular form, you can also download
complete datasets packaged as zip archives. This is useful if you want
to store complete datasets locally for further analysis.</p>
<p>To explore all available dataset names, use the
<code><a href="../reference/get_shark_options.html">get_shark_options()</a></code>. Once you know which datasets you need,
you can pass their names (or partial names) to the
<code><a href="../reference/get_shark_datasets.html">get_shark_datasets()</a></code> function.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Select a dataset name (e.g., the first two in the list)</span></span>
<span><span class="va">dataset_name</span> <span class="op">&lt;-</span> <span class="va">datasetNames</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Download the dataset as a zip-archive to a temporary directory</span></span>
<span><span class="va">shark_data_zip</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_shark_datasets.html">get_shark_datasets</a></span><span class="op">(</span><span class="va">dataset_name</span>,</span>
<span>                                     save_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                                     verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co"># Quiet output</span></span>
<span></span>
<span><span class="co"># Print the paths to the downloaded files</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">shark_data_zip</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $`SHARK_Bacterioplankton_ABUND_2023_UMSC_version_2024-06-04.zip`</span></span>
<span><span class="co">## [1] "/tmp/RtmpxyNTFP/SHARK_Bacterioplankton_ABUND_2023_UMSC_version_2024-06-04.zip"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $`SHARK_Bacterioplankton_ABU_2006_UMSC_Bactabund_version_2024-09-27.zip`</span></span>
<span><span class="co">## [1] "/tmp/RtmpxyNTFP/SHARK_Bacterioplankton_ABU_2006_UMSC_Bactabund_version_2024-09-27.zip"</span></span></code></pre>
<p>Please note that <code>SHARK4R</code> also includes useful functions
for reading local SHARK data files, such as <code><a href="../reference/read_shark.html">read_shark()</a></code>
and <code><a href="../reference/read_shark_deliv.html">read_shark_deliv()</a></code>.</p>
<hr>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<pre><code><span><span class="co">## To cite package 'SHARK4R' in publications use:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   Lindh, M. and Torstensson, A. (2025). SHARK4R: Accessing and</span></span>
<span><span class="co">##   Validating Marine Environmental Data from SHARK and Related</span></span>
<span><span class="co">##   Databases. R package version 1.0.0.</span></span>
<span><span class="co">##   https://CRAN.R-project.org/package=SHARK4R</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## A BibTeX entry for LaTeX users is</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   @Manual{,</span></span>
<span><span class="co">##     title = {SHARK4R: Accessing and Validating Marine Environmental Data from SHARK and Related Databases},</span></span>
<span><span class="co">##     author = {Markus Lindh and Anders Torstensson},</span></span>
<span><span class="co">##     year = {2025},</span></span>
<span><span class="co">##     note = {R package version 1.0.0},</span></span>
<span><span class="co">##     url = {https://CRAN.R-project.org/package=SHARK4R},</span></span>
<span><span class="co">##   }</span></span></code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Markus Lindh, Anders Torstensson, SBDI.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
